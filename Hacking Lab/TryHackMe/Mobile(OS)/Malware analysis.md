![image 1](/Pictur/Hacking%20lab/malwareanalysis/1.png)<br>
A mobile malicious file will be analyzed.<br>
모바일 악성 파일을 분석하겠습니다. 
<br>
<br>
<br>
<br>
<br>

![image 1](/Pictur/Hacking%20lab/malwareanalysis/2.png)<br>
When the machine is started, two files are displayed on the initial screen.<br>
Both files have the APK extension, indicating that they are Android applications.<br>

머신을 시작하면 초기화면에 두 개의 파일이 보입니다. 두 개 모두 확장자가 apk로 안드로이드임을 알 수 있습니다. 
<br>
<br>
<br>
<br>
<br>

![image 1](/Pictur/Hacking%20lab/malwareanalysis/3.png)<br>
<br>
The files have unknown names, suggesting that they may be encrypted to conceal their identities.<br>
알 수 없는 이름으로, 이를 숨기기 위해 암호화 되어있음을 의심할 수 있습니다.
<br>
<br>
<br>
<br>
<br>
<br>

![image 1](/Pictur/Hacking%20lab/malwareanalysis/4.png)<br>
The files were encoded using a very simple Base64 scheme, and they were identified as Malware.apk.<br>
Base64로 아주 간단한 암호로 인코딩 되어있었으며, Malware.apk임을 확인했습니다.
<br>
<br>
<br>
<br>
<br>
<br>
<br>

![image 1](/Pictur/Hacking%20lab/malwareanalysis/5.png)<br>
MobSF is an open-source mobile security analysis tool. The malicious file will be uploaded for analysis.<br>
MobSF는 오픈소스 모바일 보안 분석 도구입니다. 악성 파일을 업로드해 분석하겠습니다. 
<br>
<br>
<br>
<br>
<br>
<br>

![image 1](/Pictur/Hacking%20lab/malwareanalysis/6.png)<br>

From the package name (bundle ID), it can be inferred that the file is an attack tool associated with Metasploit, and SHA-256 will be used.<br>
Package Name인 번들 ID가 metasploit으로 공격도구임을 추론할 수 있으며, SHA256을 활용하겠습니다.
<br>
<br>
<br>
<br>
<br>
<br>
<br>

<img width="694" height="601" alt="image" src="https://github.com/user-attachments/assets/bb5bdcae-8e83-4bf8-9879-0ec33172364c" /><br>

VirusTotal is a malware scanning tool. The SHA-256 hash value will be submitted.<br>
WHY – SHA-256 can be used as a unique identifier for integrity verification.<br>

VirusTotal는 Malware 스캔 도구입니다. 여기에 SHA256 해시값을 붙여넣겠습니다.<br>
*WHY- SHA256는 고유 식별자로 무결성 검증이 가능합니다.

<br>
<br>
<br>
<br>
<br>
<br>

![image 1](/Pictur/Hacking%20lab/malwareanalysis/7.png)<br>
By aggregating the scan results from numerous security vendors (AV engines),<br>
the file was confirmed to be identified as Metasploit-family malware.<br>

수많은 보안 업체(AV엔진)의 스캔 결과를 취합해 이를, Metasploit 계열의 악성코드로 식별됨을 확인했습니다. 
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
* Signer Certificate Analysis<br>
<br>
<br>
<br>

![image 1](/Pictur/Hacking%20lab/malwareanalysis/10.png)<br>

In MobSF, the signer certificate analysis shows that although the application is signed,<br>
the signature relies on the vulnerable SHA-1 algorithm and uses a debug certificate, preventing verification of the developer’s identity.<br>

다시 MobSF로 돌아가서, 서명 및 인증서 보안성 검토(Signer Certificate Analysis)를 보겠습니다. <br>
secure로 서명은 되어있습니다. 이 서명이 SHA1으로 취약하며, debug certificate으로 정식 배포용이 아닌 제작자의 신원을 확인할 수 없습니다.<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
* Application Permission<br>
<br>
<br>
<br>

![image 1](/Pictur/Hacking%20lab/malwareanalysis/11.png)<br>
![image 1](/Pictur/Hacking%20lab/malwareanalysis/12.png)<br>

The review begins with dangerous application permissions.<br>
Access to coarse and fine location data allows real-time location tracking, which may facilitate user monitoring and data exfiltration.<br>

다음은, 앱 권한(Application Permission)을 보겠습니다. Dangerous부터 보겠습니다.<br>
각각, 대략적인 위치와 정밀한 위치파악으로 실시간 위치 추적이 가능하며, 사용자 감시 및 정보 탈취가 가능합니다.

<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>

![image 1](/Pictur/Hacking%20lab/malwareanalysis/13.png)<br>

these permissions allow calls to be placed covertly without the victim’s consent, potentially enabling impersonation or financial harm.<br>
They also allow the camera to be used for recording or capturing images at any time, facilitating user surveillance and information theft.<br>

순서대로, 피해자의 허가없이 몰래 전화를 걸어 사칭 또는 금전적 피해를 입을 수 있습니다. 
언제든지 카메라를 통해 촬영 녹화가 가능하며, 사용자 감시 및 정보 탈취가 가능합니다.
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>

![image 1](/Pictur/Hacking%20lab/malwareanalysis/14.png)<br>

<br>
<br>
<br>
<br>
<br>

![image 1](/Pictur/Hacking%20lab/malwareanalysis/15.png)<br>

<br>
<br>
<br>
<br>
<br>

![image 1](/Pictur/Hacking%20lab/malwareanalysis/16.png)<br>

<br>
<br>
<br>
<br>
<br>

![image 1](/Pictur/Hacking%20lab/malwareanalysis/17.png)<br>

<br>
<br>
<br>
<br>
<br>

![image 1](/Pictur/Hacking%20lab/malwareanalysis/18.png)<br>

<br>
<br>
<br>
<br>
<br>

![image 1](/Pictur/Hacking%20lab/malwareanalysis/19.png)<br>

<br>
<br>
<br>
<br>
<br>

![image 1](/Pictur/Hacking%20lab/malwareanalysis/20.png)<br>

<br>
<br>
<br>
<br>
<br>

![image 1](/Pictur/Hacking%20lab/malwareanalysis/20-1.png)<br>

<br>
<br>
<br>
<br>
<br>

![image 1](/Pictur/Hacking%20lab/malwareanalysis/21.png)<br>

<br>
<br>
<br>
<br>
<br>

![image 1](/Pictur/Hacking%20lab/malwareanalysis/22.png)<br>

<br>
<br>
<br>
<br>
<br>

![image 1](/Pictur/Hacking%20lab/malwareanalysis/23.png)<br>

<br>
<br>
<br>
<br>
<br>

![image 1](/Pictur/Hacking%20lab/malwareanalysis/24.png)<br>

<br>
<br>
<br>
<br>
<br>

![image 1](/Pictur/Hacking%20lab/malwareanalysis/25.png)<br>

<br>
<br>
<br>
<br>
<br>

![image 1](/Pictur/Hacking%20lab/malwareanalysis/26.png)<br>

<br>
<br>
<br>
<br>
<br>

![image 1](/Pictur/Hacking%20lab/malwareanalysis/27.png)<br>

<br>
<br>
<br>
<br>
<br>

![image 1](/Pictur/Hacking%20lab/malwareanalysis/28.png)<br>

<br>
<br>
<br>
<br>
<br>

![image 1](/Pictur/Hacking%20lab/malwareanalysis/29.png)<br>

<br>
<br>
<br>
<br>
<br>

![image 1](/Pictur/Hacking%20lab/malwareanalysis/30.png)<br>

<br>
<br>
<br>
<br>
<br>

![image 1](/Pictur/Hacking%20lab/malwareanalysis/31.png)<br>

<br>
<br>
<br>
<br>
<br>

![image 1](/Pictur/Hacking%20lab/malwareanalysis/32.png)<br>

<br>
<br>
<br>
<br>
<br>

![image 1](/Pictur/Hacking%20lab/malwareanalysis/33.png)<br>

<br>
<br>
<br>
<br>
<br>

![image 1](/Pictur/Hacking%20lab/malwareanalysis/34.png)<br>

<br>
<br>
<br>
<br>
<br>

![image 1](/Pictur/Hacking%20lab/malwareanalysis/35.png)<br>
